<form
  [formGroup]="educationForm"
  class="m-auto templates-tab"
  #education="ngForm"
  (ngSubmit)="logValue()"
>
  <button
    class="new-education-btn"
    type="button"
    mat-stroked-button
    color="primary"
    (click)="addEducation()"
  >
    New Education
  </button>
  <hr class="form-separator" />
  <section
    class="control-group"
    formArrayName="educations"
    *ngFor="let education of educationControls; let i = index"
  >
    <div [formGroupName]="i">
      <button
        class="remove-education-btn"
        type="button"
        mat-stroked-button
        color="warn"
        (click)="removeEducation(i)"
      >
        Remove
      </button>
      <div class="row form-group text-center">
        <div class="col">
          <mat-form-field style="width: 100%">
            <mat-label>Start Date</mat-label>
            <input
              matInput
              [matDatepicker]="startDate"
              formControlName="start_date"
              [ngClass]="{
                'is-invalid': submitted && educationControls.start_date.errors
              }"
            />
            <mat-datepicker-toggle
              [for]="startDate"
              matSuffix
            ></mat-datepicker-toggle>
            <mat-datepicker #startDate startView="multi-year"></mat-datepicker>
            <mat-error *ngIf="submitted && educationControls.start_date.errors">
              <div *ngIf="educationControls.end_date.errors.required">
                Start date is required
              </div>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field style="width: 100%">
            <mat-label>End Date</mat-label>
            <input
              matInput
              [matDatepicker]="endDate"
              formControlName="end_date"
              [ngClass]="{
                'is-invalid': submitted && educationControls.end_date.errors
              }"
            />
            <mat-datepicker-toggle
              [for]="endDate"
              matSuffix
            ></mat-datepicker-toggle>
            <mat-datepicker #endDate startView="multi-year"></mat-datepicker>
            <mat-error *ngIf="submitted && educationControls.end_date.errors">
              <div *ngIf="educationControls.end_date.errors.required">
                End date is required
              </div>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="text-center">
        <mat-form-field
          class="example-full-width"
          style="width: 100%; border: 0"
        >
          <mat-label>Institution</mat-label>
          <input
            matInput
            formControlName="institution"
            [ngClass]="{
              'is-invalid': submitted && educationControls.institution.errors
            }"
          />
          <mat-error *ngIf="submitted && educationControls.institution.errors">
            <div *ngIf="educationControls.institution.errors.required">
              Institution is required
            </div>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width" style="width: 100%">
          <mat-label>Course</mat-label>
          <input
            matInput
            formControlName="course"
            [ngClass]="{
              'is-invalid': submitted && educationControls.course.errors
            }"
          />
          <mat-error *ngIf="submitted && educationControls.course.errors">
            <div *ngIf="educationControls.course.errors.required">
              Course is required
            </div>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
  </section>
  <div class="form-group" style="text-align: center">
    <div class="form-group col-md-12">
      <button type="submit" mat-stroked-button color="primary">Save</button>
    </div>
  </div>
</form>
